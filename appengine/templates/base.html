<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
  "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>
    {%if is_dev%}
      (DEV)
    {%endif%}
    {%block title1%}
      {%if patch%}{{patch.filename}} -{%endif%}
    {%endblock%}
    {%block title2%}
      {%if issue%}Issue {{issue.key.id}}: {{issue.subject}} -{%endif%}
    {%endblock%}
    Code Review
  </title>
  <link rel="icon" href="{{media_url}}favicon.ico" />
  <link type="text/css" rel="stylesheet" href="{{media_url}}styles.css" />
  <script type="text/javascript" src="{{media_url}}script.js"></script>

   <!-- head block to insert js/css for forms processing -->
   {%block head%}{%endblock%}
   <!-- /head -->
</head>
<body onunload="M_unloadPage();">

<!-- Begin help window -->
<script type="text/javascript"><!--
var xsrfToken = '{{xsrf_token}}';
var helpDisplayed = false;
document.onclick = M_clickCommon;
var media_url = "{{media_url}}";
var base_url = "{%url codereview.views.index%}";
{%if issue%}
var publish_link = "{%url codereview.views.publish issue.key.id%}";
{%endif%}
// -->
</script>
<div id="help" style="display: none;">
{%block help%}{%endblock%}
<div style="font-size: medium; text-align: center;">Keyboard Shortcuts</div>
<hr />
<table width="100%">

  <tr valign="top">
    <td>
      <table width="100%">
        <tr>
          <td></td><th>File</th>
        </tr>
        <tr>
          <td class="shortcut"><span class="letter">u</span> <b>:</b></td><td>up to issue</td>
        </tr>
        <tr>
          <td class="shortcut"><span class="letter">m</span> <b>:</b></td><td>publish + mail comments</td>
        </tr>
	<tr>
	  <td class="shortcut"><span class="letter">M</span> <b>:</b></td><td>edit review message</td>
	</tr>
        <tr>
          <td class="shortcut"><span class="letter">j</span> / <span class="letter">k</span> <b>:</b></td><td>jump to file after / before current file</td>
        </tr>
        <tr>
          <td class="shortcut"><span class="letter">J</span> / <span class="letter">K</span> <b>:</b></td><td>jump to next file with a comment after / before current file</td>
        </tr>
        <tr>
          <td></td><th>Side-by-side diff</th>
        </tr>
        <tr>
          <td class="shortcut"><span class="letter">i</span> <b>:</b></td><td>toggle intra-line diffs</td>
        </tr>
        <tr>
          <td class="shortcut"><span class="letter">e</span> <b>:</b></td><td>expand all comments</td>
        </tr>
        <tr>
          <td class="shortcut"><span class="letter">c</span> <b>:</b></td><td>collapse all comments</td>
        </tr>
        <tr>
          <td class="shortcut"><span class="letter">s</span> <b>:</b></td><td>toggle showing all comments</td>
        </tr>
        <tr>
          <td class="shortcut"><span class="letter">n</span> / <span class="letter">p</span> <b>:</b></td><td>next / previous diff chunk or comment</td>
        </tr>
        <tr>
          <td class="shortcut"><span class="letter">N</span> / <span class="letter">P</span> <b>:</b></td><td>next / previous comment</td>
        </tr>
        <tr>
          <td class="shortcut"><span class="letter">&lt;Up&gt;</span> / <span class="letter">&lt;Down&gt;</span> <b>:</b></td><td>next / previous line</td>
        </tr>
        <tr>
          <td class="shortcut"><span class="letter">&lt;Enter&gt;</span> <b>:</b></td><td>respond to / edit current comment</td>
        </tr>
      </table>
    </td>
    <td>
      <table width="100%"> 
        <tr>
         <td></td><th>Issue</th>
        </tr>
        <tr>
          <td class="shortcut"><span class="letter">u</span> <b>:</b></td><td>up to list of issues</td>
        </tr>
        <tr>
          <td class="shortcut"><span class="letter">m</span> <b>:</b></td><td>publish + mail comments</td>
        </tr>
	<tr>
	  <td class="shortcut"><span class="letter">j</span> / <span class="letter">k</span> <b>:</b></td><td>jump to patch after / before current patch</td>
	</tr>
	<tr>
	  <td class="shortcut"><span class="letter">o</span> / <span class="letter">&lt;Enter&gt;</span> <b>:</b></td><td>open current patch in side-by-side view</td>
	</tr>
	<tr>
	  <td class="shortcut"><span class="letter">i</span> <b>:</b></td><td>open current patch in unified diff view</td>
	</tr>
        <tr><td>&nbsp;</td></tr>
        <tr><td></td><th>Issue List</th></tr>
        <tr>
          <td class="shortcut"><span class="letter">j</span> / <span class="letter">k</span> <b>:</b></td><td>jump to issue after / before current issue</td>
        </tr>
        <tr>
          <td class="shortcut"><span class="letter">o</span> / <span class="letter">&lt;Enter&gt;</span> <b>:</b></td><td>open current issue</td>
        </tr>
        <tr>
	  <td class="shortcut"><span class="letter">#</span> <b>:</b></td>
	  <td>close issue</td>
	</tr>
        <tr><td>&nbsp;</td></tr>
        <tr>
          <td></td><th>Comment/message editing</th>
        </tr>
        <tr>
          <td class="shortcut"><span class="letter">&lt;Ctrl&gt;</span> + <span class="letter">s</span> <b>:</b></td><td>save comment</td>
        </tr>
        <tr>
          <td class="shortcut"><span class="letter">&lt;Esc&gt;</span> <b>:</b></td><td>cancel edit</td>
        </tr>
      </table>
    </td>
  </tr>

</table>
</div>
<!-- End help window -->

<div align="right">
{%if is_dev%}
<div style="float:left; color:green; font-weight:bold">DEVELOPMENT SERVER</div>
{%else%}
<div style="float:left; font-weight:bold"><i>CS 61A</i> Code Review Tool</div>
{%endif%}
{%if special_banner%}
<div style="float:left;
            border:solid; border-width:1px; border-color: black;
            font-weight:bold; font-size:111%; color:red;
            background-color:yellow;
            margin-left:5px; padding:2px">
  {{special_banner|safe}}
</div>
{%endif%}

{%if user%}
<b>{{user.email}} ({%nickname user True%})</b>
|
{%if must_choose_nickname%}
<span style="color:red">Please fill in your login information with </span>{%endif%}
<a class="novisit" href="{%url codereview.views.settings user%}">Settings</a>
|
{%endif%}
{%if is_dev%}
<a class="novisit" target="_blank" href="/_ah/admin">Admin</a>
|
{%endif%}
{%if user%}
<a class="novisit" href="{{sign_out}}">Sign out</a>
{% else %}
<a class="novisit" href="{{sign_in}}">Sign in</a>
{%endif%}
</div>

<div class="counter">({{counter}})</div>
<div name = 'mainmenu2' class="mainmenu2">
  {%block mainmenu2%}{%endblock%}
</div>

<div>
{%block body%}BODY GOES HERE{%endblock%}
</div>
{%block popup%}{%endblock%}

<p></p>
<div style="float: left;">
  <a target="_blank" href="http://code.google.com/appengine/"><img border="0"
   src="{{media_url}}appengine-noborder-120x30.gif"
   alt="Powered by Google App Engine" /></a>
</div>

</div>

{%if not is_dev%}
<script type="text/javascript">
  var analytics=analytics||[];analytics.load=function(e){var t=document.createElement("script");t.type="text/javascript",t.async=!0,t.src=("https:"===document.location.protocol?"https://":"http://")+"d2dq2ahtl5zl1z.cloudfront.net/analytics.js/v1/"+e+"/analytics.min.js";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(t,n);var r=function(e){return function(){analytics.push([e].concat(Array.prototype.slice.call(arguments,0)))}},i=["identify","track","trackLink","trackForm","trackClick","trackSubmit","pageview","ab","alias","ready"];for(var s=0;s<i.length;s++)analytics[i[s]]=r(i[s])};
  analytics.load("qq0hpmwl7v");
</script>
{%endif%}

</body>
</html>
